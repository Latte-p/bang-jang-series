### 6. 공개키 암호 방식을 서명에 사용

#### 전자 서명이 필요한 이유와 디지털 서명
- 인감이나 사인은  "본인이 만들었다" 또는 "승인한다"라는 것을 증명하기 위해 사용된다.
- 종이 문서인 경우 인감이 찍힌 이후에 임의의 수정이 발생하는 일은 거의 없지만 최근에는 문서나 데이터가 전자화 되었다.
- 이러한 전자 파일의 내용 변경은 너무나 간단하여 사용자가 작성한 내용을 복사하여 작성자의 이름을 바꾸는 것도 어렵지 않다.
- 본인이 작성한 후, 제 3자에 의해 변경되었어도 눈치채지 못한 사람들이 많을 것이다.
- 악의적으로 조작된 경우 그것을 알아내기는 어렵다.
- 그래서 전자 파일에 대해서는 전자서명을 사용함으로써 데이터 내용에 대한 신뢰성을 높일 필요가 있다.
- 디지털 서명
  - 공개키 암호를 이용한 전자 서명을 일컫는 말


#### 디지털 서명의 구조
- 디지털 서명을 이용하여 문서에 서명하려면, 서명자는 전자 문서의 해시 값을 계산 하고 "서명자의 비밀키"로 암호화한다.
- 그 후 "전자문서", "암호화된 해시 값", "전자 인증서" 3종을 검증자에게 전달한다.
- 검증자는 "암호화된 해시 값"을 "전자 인증서에 포함된 서명자의 공개키"로 복호화하고 전자 문서로부터 계산한 해시 값과 비교하여 검증한다.
- 개인키는 서명만 가지고 있기 때문에 제대로 복호화 하면 암호화된 전자 문서는 서명자가 만든 것으로 판명된다.
- 또한 이러한 방법은 서명자가 그 전자문서를 작성했다는 사실을 부인할 수 없게 한다.
- 해시 값이 일치함을 통해 전자 문서가 위 변조되지 않는 다는 것을 보장할 수 있다.

#### Point
- 전자 서명을 하는 방법으로 공개 키 암호를 이용한 디지털 서명이 있다.
- 디지털 서명에 의해 위 변조되지 않았음을 보장할 수 있다.

### 7. 공통키 암호화 공개키 암호의 조합
#### 공통키 암호와 공개키 암호의 하이브리드
- 공통키 암호는 빠르게 수행할 수 있지만 키의 안전한 전달과 관리상의 어려움이 있다.
- 공개키 암호는 키의 전달과 관리가 쉬운 방면, 처리에 시간이 걸린다는 단점이 있다.
- 둘다 장, 단점이 있는 방식이지만, 각각의 장점을 살리고 단점을 보완하기 위해 이들과 해시 등을 결합한 하이브리드 암호가 사용
- 예시
  - "공통키 암호의 키를 네트워크를 통해 전달", "통신 상대방이 올바른지 여부를 판정하는 인증 데이터 교환" 같은 중요한 데이터의 전달에는 공개키 암호 사용
  - 실제로 전송되는 커다란 데이터의 암호화는 공통키 암호를 사용하며, 데이터 무결성 확인에는 해시를 사용한다.
#### 하이브리드 암호의 특징
- 공개키 암호를 이용한 키교환
- 해시를 이용한 완전성 확인
- 공통키 암호를 이용한 암호화


#### SSL의 조합
- 웹 브라우저로 웹 사이트를 조회하는 통신을 암호화하는 방식에는 SSL(Secure Socket Layer)과 TLS(Transport Layer Security)가 있다.
- SSL이나 TLS는 공통키 암호와 공개키 암호를 조합하여 사용
- 암호화 단계
  1. 이용자가 서버에 연결을 요청하면 서버는 "서버의 공개키"를 제공한다.(실제로는 서버의 인증서를 제공)
  2. 이용자는 준비된 공통키를 "서버의 공개키"로 암호화하여 서버에 전송한다.
  3. 서버는 "서버의 비밀키"로 복호화하여 공통키를 추출한다(공개키 암호를 사용)
  4. 이용자는 준비된 공통키로 데이터를 암호화한다.
  5. 이 데이터를 서버로 전송하면 서버는 조금 전에 추출해 두었던 이용자가 보낸 공통키로 복호화하여 데이터를 검색할 수 있다.
  6. 반대로, 서버에서 데이터를 이용자에게 보낼 때도 마찬가지로 공통키로 암호화하여 전송하고, 이용자는 공통키로 복호화하여(공통키 암호를 사용) 데이터를 추출할 수 있다.

#### Point
- 하이브리드 암호는 공개키 암호와 비밀 키 암호가 결합되어 각각의 장점을 살리고 있다.
- SSL이나 TLS에서도 공통키 교환에 공개키 암호를 사용하고, 데이터를 암호화 할때는 공통키 암호를 사용한다.