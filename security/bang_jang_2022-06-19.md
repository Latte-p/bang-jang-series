### 9. 취약점 유무를 검사한다.
#### 공격자의 입장에서 취약점을 조사한다.
- 대부분의 취약점은 소프트웨어 개발 단계에서 만들어지고 있다.
- 그러나 공격자는 개발자가 미처 생각하지 못했던 방법으로 침입해오기 때문에 개발자는 취약점이 존재하는 것을 눈치채지 못한다.
- 그래서 취약점의 유무를 확인하는 "취약점 진단"을 수행한다.
- 현재는 무료 취약점 진단 도구도 등장하고 있으며, 일반적인 공격 수법에 대해서는 쉽게 알아낼 수 있다.
- 그러나 도구를 사용해도 발견할 수 없는 취약점이 존재하기 때문에 많은 기업에서는 전문가의 수작업에 의한 진단도 실시하고 있다.
- 그러나 취약점 진단에서 문제가 발견되지 않았다고 해서 취약점이 존재하지 않는다고 말할 수는 없다.
- 어디가지나 "해당 방법으로 실시한 범위 안에서 취약점이 존재하지 않는다."라는 확인에 불과하다는 사실에 주의해야 한다.
- 취약점이 있다고 판단한 경우, 해당 취약점을 노린 공격에 의해 구체적으로 어떤 피해가 발생할 수 있는지 확인힙니다.
- 네트워크에 접속되어 사용되고 있는 컴퓨터에 대해 알려진 기술을 이용하여 침입을 시도함으로써 시스템에 취약점이 있는지 여부를 테스트하는 방법을 Penetration test 또는 침투 테스트라고 한다.
```
취약점 진단 시나리오
1. 외부에서 진단시
- 네트워크 설정 유출
- 어플리케이션 취약점
(SQL Injection
Cross Site Scription
Cross Site Request Forgeries 등)
- 불필요한 서비스의 유무

2. 내부에도서 진단시
- 펌웨어(Firmware)갱신 상황
- 설정오류
- OS 어플리케이션의 핫픽스 적용 상황
- 불필요한 사용자 유무
```


#### 포트 번호에 접속하여 약점을 조사한다.
- 네트워크에서 접속도어 사용되고 있는 컴퓨터의 포트번호에 대한 접속 가능 여부를 조사하면 해당 컴퓨터가 사용하고 있는 프로토콜을 알 수 있다.
- 예를 들어, FTP 프로토콜을 사용하여 통신하고 있는 컴퓨터는 FTP 포트가 열려 있다.
- 공격자는 외부에서 어떤 포트가 열려 있는지 정보를 수집하는 포트 스캔(Port scan)이라는 점검을 수행한다.
- 열려있는 포트를 파악하면 프로토콜의 취약점을 노린 공격 전략을 세우기 쉬워진다.
- 대책으로 불필요한 포트는 닫아두는 것이 요구되고 있다.

#### Point
- 취약점 진단을 실시하여 취약점 유무를 확인하는 것은 현재의 소프트웨어 개발에서는 필수이다.
- 네트워크 포트에 대한 접속 가능 여부를 확인하는 포트 스캔을 함으로써 컴퓨터의 약점을 알아낼 수 있다.

### 10. 웹 어플리케이션을 전형적인 공격으로 부터 보호
#### 웹 어플리케이션을 겨냥한 전형적인 공격을 방지
- WAF(Web Application Firewall)
  - 일반적인 방화벽과는 다르게 웹 어플리케이션을 겨냥한 전형적인 공격으로부터 보호하기 위한 방화벽이다.
  - 통신 내용을 확인하여 공격적이라고 판단된것을 차단한다.
- 개별적으로 개발된 웹 어플리케이션이 어떤 사양으로 되어 있는지 WAF 제공업체(Maker)에서는 알 수 없다.
- 그래서 제공업체가 지금까지 발견된 공격 패턴들을 WAF에서 등록한 후, 등록된 패턴에 매치(Match)되는 통신은 부정 접속으로 간주하게 된다.
- 통신을 식별하는 방법으로 블랙리스트 방식과, 화이트 리스트 방식이 존재
- 블랙리스트
  - SQL인젝션 등 취약점 공격의 대표적 공격패턴이 등록
  - 등록되어있는 내용애 해당하는 통신이 있다면 "부정"한 통신이라고 판정할 수 있다.
- 화이트리스트
  - "정상적인 통신"의 대표적인 입력 내용을 등록함으로, 목록에 없는 통신을 "부정"한 통신이라고 판단한다.
  - 화이트 리스트는 해당하는 웹 어플리케이션의 개발에 따라 다르기 때문에 도입 시 설정이 필요하다.
  - 수작어븡로 화이트리스트를 정의하려면 방대한 노력이 따르기 때문에, 일정 기간은 무조건 통신을 허용해두고 그 기간동안 발생된 통신을 학습하여 자동으로 화이트리스트를 생성하는 기능이 WAF에 있다.

#### 손쉽게 도입 가능한 WAF등장
- WAF는 하드웨어로 제공되는 것 뿐만 아니라, 웹서버에 적용하는 소프트웨어 형태도 있다.
- 최근에는 SaaS형태의 WAF 등 클라우드(Cloud) 기반에서 운용되는 형태도 등장하였으며 간편하게 도입할 수 있는 제품들도 증가하고 있다.
- 새로운 공격에 대비하기 위한 도입보다 운용이 중요하며 전담하는 기술자가 없는 경우에는 클라우드 기반의 운용 형태도 유력한 대안이 될 수 있다.

```
WAF를 사용하는 경우
- 개발 위탁업체의 폐업 : 취약점 진단ㅇ르 받는것이 전제
- Lental 서버의 계약자에 제공 : 안전성에서 타사와 차별하기 위해
- 정지 시 사업에 영향이 크다 : Risk에 대한 비용 대비 효과가 맞지 않기 때문
- 자사 서버 예방 : 모든 취약점을 없애는 것은 불가능하기 때문
```

#### Point
- 웹 어플리케이션에 취약점이 존재하는지 알 수 없는 경우에도 WAF를 도입하면 위험을 줄일 수 있다.
- WAF를 사용하면 알려진 취약점에 대한 방지 뿐만 아니라, 알려지지 않은 취약점을 방지할 수도 있다.